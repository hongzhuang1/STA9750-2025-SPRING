<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>NYC Payroll Expenses Reduction Proposals – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link active" data-scroll-target="#executive-summary">Executive Summary</a>
  <ul class="collapse">
  <li><a href="#quick-facts" id="toc-quick-facts" class="nav-link" data-scroll-target="#quick-facts">Quick Facts</a></li>
  </ul></li>
  <li><a href="#data-preparation-and-exploratory-data-analysis" id="toc-data-preparation-and-exploratory-data-analysis" class="nav-link" data-scroll-target="#data-preparation-and-exploratory-data-analysis">Data Preparation and Exploratory Data Analysis</a>
  <ul class="collapse">
  <li><a href="#conventional-formatting" id="toc-conventional-formatting" class="nav-link" data-scroll-target="#conventional-formatting">Conventional Formatting</a></li>
  <li><a href="#analzye-the-distribution-of-base_salary" id="toc-analzye-the-distribution-of-base_salary" class="nav-link" data-scroll-target="#analzye-the-distribution-of-base_salary">Analzye the Distribution of <code>base_salary</code></a></li>
  <li><a href="#missing-values" id="toc-missing-values" class="nav-link" data-scroll-target="#missing-values">Missing Values</a></li>
  </ul></li>
  <li><a href="#feature-engineering" id="toc-feature-engineering" class="nav-link" data-scroll-target="#feature-engineering">Feature Engineering</a></li>
  <li><a href="#policy-analyses" id="toc-policy-analyses" class="nav-link" data-scroll-target="#policy-analyses">Policy Analyses</a>
  <ul class="collapse">
  <li><a href="#capping-salaries-at-mayoral-level" id="toc-capping-salaries-at-mayoral-level" class="nav-link" data-scroll-target="#capping-salaries-at-mayoral-level">Capping Salaries at Mayoral Level</a></li>
  <li><a href="#increasing-staffing-to-reduce-overtime-expenses" id="toc-increasing-staffing-to-reduce-overtime-expenses" class="nav-link" data-scroll-target="#increasing-staffing-to-reduce-overtime-expenses">Increasing Staffing to Reduce Overtime Expenses</a></li>
  <li><a href="#my-own-policy-proposal" id="toc-my-own-policy-proposal" class="nav-link" data-scroll-target="#my-own-policy-proposal">My Own Policy Proposal</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">NYC Payroll Expenses Reduction Proposals</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="executive-summary" class="level2">
<h2 class="anchored" data-anchor-id="executive-summary">Executive Summary</h2>
<p>Managing payroll expenses is a critical component of maintaining the financial health of New York City. With a vast workforce spanning over 160 city agencies, payroll represents a significant portion of the city’s budget. This project aims to assess payroll expenditures and explore strategic measures to enhance cost efficiency. By analyzing historical payroll trends and evaluating targeted policy proposals, we seek to identify opportunities for substantial cost reductions while maintaining essential public services.</p>
<section id="quick-facts" class="level3">
<h3 class="anchored" data-anchor-id="quick-facts">Quick Facts</h3>
<ul>
<li><p><strong>Highest Pay Rate</strong>: The <strong>chairman</strong> of the Civil Service Commission in Manhattan has the highest pay rate, with an hourly rate $566.60.</p></li>
<li><p><strong>Highest Total Payroll:</strong> Combining regular and overtime pay, <strong>Daniel E Flynn</strong> from the Fire Department had the highest total payroll of $521,235.4 in 2021, having worked 1,820 regular hours and 1564.92 overtime hours.</p></li>
<li><p><strong>Most Overtime Worked:</strong> <strong>William E. Gittens</strong> from the Department Of Citywide Admin Services has the most overtime worked, which was 18,564 hours.</p></li>
<li><p><strong>Highest Average Total Annual Payroll Per Employee:</strong> The <strong>Office of Collective Bargaining</strong> has the highest average total annual payrollper employee, at $96,095.94.</p></li>
<li><p><strong>Most Employees on Payroll:</strong> The Department of Education has the most employees on the payroll each fiscal year.</p></li>
<li><p><strong>Highest Overtime Usage:</strong> The <strong>Board of Elections</strong> has the highest overtime usage, with total overtime worked accounting for about 20% of the total regular hours.</p></li>
<li><p><strong>Average Salary for Employees Outside the Five Boroughs:</strong> Employees who work outside the five boroughs have an average salary of $91,475.31.</p></li>
<li><p><strong>Aggregate Payroll Growth:</strong> The city’s aggregate payroll has grown by <strong>35.12%</strong> over the past ten fiscal years.</p></li>
</ul>
</section>
</section>
<section id="data-preparation-and-exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation-and-exploratory-data-analysis">Data Preparation and Exploratory Data Analysis</h2>
<p>Load Relevant Packages</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Read Data into R</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"~/STA9750/STA9750-2025-SPRING/data/mp01/nyc_payroll_export.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now, let’s take a quick look at the payroll data.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(nyc_payroll)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 6,225,611
Columns: 17
$ fiscal_year                &lt;int&gt; 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2…
$ payroll_number             &lt;int&gt; 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67,…
$ agency_name                &lt;chr&gt; "ADMIN FOR CHILDREN'S SVCS", "ADMIN FOR CHI…
$ last_name                  &lt;chr&gt; "FAYE FALL", "KILGORE", "WISDOM", "MILLER",…
$ first_name                 &lt;chr&gt; "SOKHNA", "ORLANTHA", "CHERISE", "MOYA-GAYE…
$ mid_init                   &lt;chr&gt; "M", "B", "M", "S", "M", "L", "O", NA, "N",…
$ agency_start_date          &lt;chr&gt; "2023-11-20T00:00:00.000", "2023-08-28T00:0…
$ work_location_borough      &lt;chr&gt; "BRONX", "BROOKLYN", "MANHATTAN", "MANHATTA…
$ title_description          &lt;chr&gt; "CHILD PROTECTIVE SPECIALIST", "CHILD PROTE…
$ leave_status_as_of_june_30 &lt;chr&gt; "ACTIVE", "ACTIVE", "ON LEAVE", "ON LEAVE",…
$ base_salary                &lt;dbl&gt; 62043, 62043, 43144, 62043, 60236, 62043, 6…
$ pay_basis                  &lt;chr&gt; "per Annum", "per Annum", "per Annum", "per…
$ regular_hours              &lt;dbl&gt; 1050.00, 1470.00, 1251.50, 1400.75, 700.00,…
$ regular_gross_paid         &lt;dbl&gt; 31267.96, 44660.96, 28649.20, 44515.43, 221…
$ ot_hours                   &lt;dbl&gt; 12.00, 99.75, 30.00, 44.75, 53.00, 146.00, …
$ total_ot_paid              &lt;dbl&gt; 425.00, 3859.84, 802.42, 1476.98, 1933.33, …
$ total_other_pay            &lt;dbl&gt; 78.04, 78.14, 78.26, 78.37, 78.47, 78.86, 7…</code></pre>
</div>
</div>
<section id="conventional-formatting" class="level3">
<h3 class="anchored" data-anchor-id="conventional-formatting">Conventional Formatting</h3>
<p>Convert the values in some columns to conventional formatting using <code>string_to_title()</code>.</p>
<p>By using the <code>unique()</code> function in R, we can get a list of distinct values for a variable. I noticed there are some shorthands in the <code>agency_name</code> variable and some agency names need formal formatting.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="ot">&lt;-</span> nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency_name =</span> <span class="fu">str_to_title</span>(agency_name),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">last_name =</span> <span class="fu">str_to_title</span>(last_name),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">first_name =</span> <span class="fu">str_to_title</span>(first_name),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">work_location_borough =</span> <span class="fu">str_to_title</span>(work_location_borough),</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_description =</span> <span class="fu">str_to_title</span>(title_description),</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">leave_status_as_of_june_30 =</span> <span class="fu">str_to_title</span>(leave_status_as_of_june_30)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="ot">&lt;-</span> nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency_name =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      agency_name <span class="sc">==</span> <span class="st">"Bronx Da"</span> <span class="sc">~</span> <span class="st">"Bronx District Attorney"</span>,  </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      agency_name <span class="sc">==</span> <span class="st">"Board Of Correction"</span> <span class="sc">~</span> <span class="st">"Board Of Corrections"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      agency_name <span class="sc">==</span> <span class="st">"Dept. Of Design &amp; Construction"</span> <span class="sc">~</span> <span class="st">"Dept Of Design &amp; Construction"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      agency_name <span class="sc">==</span> <span class="st">"Dept. Of Homeless Services"</span> <span class="sc">~</span> <span class="st">"Dept Of Homeless Services"</span>,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>      agency_name <span class="sc">==</span> <span class="st">"Office Of Collective Bargainin"</span> <span class="sc">~</span> <span class="st">"Office Of Collective Bargaining"</span>,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>      agency_name <span class="sc">==</span> <span class="st">"Board Of Election"</span> <span class="sc">~</span> <span class="st">"Board Of Elections"</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>      agency_name <span class="sc">==</span> <span class="st">"Doe Custodial Payrol"</span> <span class="sc">~</span> <span class="st">"DOE Custodial Payroll"</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> agency_name</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>After applying some conventional formatting, we can explore the dataset, beginning with the salary history of the current NYC Mayor.</p>
<p>Below is a table showing the total pay for the current Mayor of New York City. The Mayor of New York City takes office in January, while the fiscal year runs from July to June. As a result, his pay in 2022 was only half of the total annual pay.</p>
<p><strong>Caveat</strong>: Before performing feature engineering, let’s temporarily use <code>regualr_paid_gross_paid</code> and <code>total_ot_paid</code> to compute the total compensation even though it is not recommended.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Salary Table for **Eric L. Adams**">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Salary Table for <strong>Eric L. Adams</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(first_name <span class="sc">==</span> <span class="st">"Eric"</span>, last_name <span class="sc">==</span> <span class="st">"Adams"</span>, mid_init <span class="sc">==</span> <span class="st">"L"</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_pay =</span> regular_gross_paid <span class="sc">+</span> total_ot_paid</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(fiscal_year) <span class="sc">|&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"fiscal_year"</span>, <span class="st">"agency_name"</span>, <span class="st">"title_description"</span>, <span class="st">"base_salary"</span>, <span class="st">"total_pay"</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"Salary History of Current Mayor **Eric L. Adams** from 2014-2024"</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_currency</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(base_salary, total_pay),</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">currency =</span> <span class="st">"USD"</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">fiscal_year =</span> <span class="st">"Fiscal Year"</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency_name =</span> <span class="st">"Agency"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_description =</span> <span class="st">"Position"</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">base_salary =</span> <span class="st">"Base Salary"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_pay =</span> <span class="st">"Total Pay"</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="rehhnbdghf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rehhnbdghf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rehhnbdghf thead, #rehhnbdghf tbody, #rehhnbdghf tfoot, #rehhnbdghf tr, #rehhnbdghf td, #rehhnbdghf th {
  border-style: none;
}

#rehhnbdghf p {
  margin: 0;
  padding: 0;
}

#rehhnbdghf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rehhnbdghf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rehhnbdghf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rehhnbdghf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rehhnbdghf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rehhnbdghf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rehhnbdghf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rehhnbdghf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rehhnbdghf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rehhnbdghf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rehhnbdghf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rehhnbdghf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rehhnbdghf .gt_spanner_row {
  border-bottom-style: hidden;
}

#rehhnbdghf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rehhnbdghf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rehhnbdghf .gt_from_md > :first-child {
  margin-top: 0;
}

#rehhnbdghf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rehhnbdghf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rehhnbdghf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rehhnbdghf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rehhnbdghf .gt_row_group_first td {
  border-top-width: 2px;
}

#rehhnbdghf .gt_row_group_first th {
  border-top-width: 2px;
}

#rehhnbdghf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rehhnbdghf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rehhnbdghf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rehhnbdghf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rehhnbdghf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rehhnbdghf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rehhnbdghf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rehhnbdghf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rehhnbdghf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rehhnbdghf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rehhnbdghf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rehhnbdghf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rehhnbdghf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rehhnbdghf .gt_left {
  text-align: left;
}

#rehhnbdghf .gt_center {
  text-align: center;
}

#rehhnbdghf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rehhnbdghf .gt_font_normal {
  font-weight: normal;
}

#rehhnbdghf .gt_font_bold {
  font-weight: bold;
}

#rehhnbdghf .gt_font_italic {
  font-style: italic;
}

#rehhnbdghf .gt_super {
  font-size: 65%;
}

#rehhnbdghf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rehhnbdghf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rehhnbdghf .gt_indent_1 {
  text-indent: 5px;
}

#rehhnbdghf .gt_indent_2 {
  text-indent: 10px;
}

#rehhnbdghf .gt_indent_3 {
  text-indent: 15px;
}

#rehhnbdghf .gt_indent_4 {
  text-indent: 20px;
}

#rehhnbdghf .gt_indent_5 {
  text-indent: 25px;
}

#rehhnbdghf .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#rehhnbdghf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="5" class="gt_heading gt_title gt_font_normal gt_bottom_border">Salary History of Current Mayor <strong>Eric L. Adams</strong> from 2014-2024</th>
</tr>
<tr class="odd gt_col_headings">
<th id="fiscal_year" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Fiscal Year</th>
<th id="agency_name" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Agency</th>
<th id="title_description" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Position</th>
<th id="base_salary" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Base Salary</th>
<th id="total_pay" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Pay</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2014</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$160,000.00</td>
<td class="gt_row gt_right" headers="total_pay">$72,416.47</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2015</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$160,000.00</td>
<td class="gt_row gt_right" headers="total_pay">$159,561.73</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2016</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$179,200.00</td>
<td class="gt_row gt_right" headers="total_pay">$167,696.83</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2017</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$179,200.00</td>
<td class="gt_row gt_right" headers="total_pay">$185,556.86</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2018</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$179,200.00</td>
<td class="gt_row gt_right" headers="total_pay">$178,708.92</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2019</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$179,200.00</td>
<td class="gt_row gt_right" headers="total_pay">$178,708.92</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2020</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$179,200.00</td>
<td class="gt_row gt_right" headers="total_pay">$178,231.37</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2021</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$179,200.00</td>
<td class="gt_row gt_right" headers="total_pay">$178,695.51</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2022</td>
<td class="gt_row gt_left" headers="agency_name">Borough President-Brooklyn</td>
<td class="gt_row gt_left" headers="title_description">Borough President</td>
<td class="gt_row gt_right" headers="base_salary">$179,200.00</td>
<td class="gt_row gt_right" headers="total_pay">$96,227.27</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2022</td>
<td class="gt_row gt_left" headers="agency_name">Office Of The Mayor</td>
<td class="gt_row gt_left" headers="title_description">Mayor</td>
<td class="gt_row gt_right" headers="base_salary">$258,750.00</td>
<td class="gt_row gt_right" headers="total_pay">$120,088.35</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2023</td>
<td class="gt_row gt_left" headers="agency_name">Office Of The Mayor</td>
<td class="gt_row gt_left" headers="title_description">Mayor</td>
<td class="gt_row gt_right" headers="base_salary">$258,750.00</td>
<td class="gt_row gt_right" headers="total_pay">$258,041.16</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2024</td>
<td class="gt_row gt_left" headers="agency_name">Office Of The Mayor</td>
<td class="gt_row gt_left" headers="title_description">Mayor</td>
<td class="gt_row gt_right" headers="base_salary">$258,750.00</td>
<td class="gt_row gt_right" headers="total_pay">$257,361.22</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</section>
<section id="analzye-the-distribution-of-base_salary" class="level3">
<h3 class="anchored" data-anchor-id="analzye-the-distribution-of-base_salary">Analzye the Distribution of <code>base_salary</code></h3>
<p>In order to perform payroll analyses, my first step is to examine the distribution of <code>base_salary</code>, which provides pay information for each pay basis. In NYC payroll data set, there are three pay types: per annum/prorated annual, per diem and per hour. For a robust analysis, I used <code>summary()</code> to identify the outliers and inconsistencies and addressed them accordingly.</p>
<section id="per-annum-employees" class="level4">
<h4 class="anchored" data-anchor-id="per-annum-employees">Per Annum Employees</h4>
<p>There are some outliers in this category. For example, some observations have a $1 annual rate. After further investigation, I believe these are just not actual payroll records and are immaterial, so I decided no action was needed to handle these values. I applied a 1,820 hours to this group to compute the pay rate.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pay_basis <span class="sc">==</span> <span class="st">"per Annum"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(base_salary) <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  base_salary    
 Min.   :     1  
 1st Qu.: 50028  
 Median : 74683  
 Mean   : 75786  
 3rd Qu.: 95365  
 Max.   :414707  </code></pre>
</div>
</div>
</section>
<section id="per-hour-employees" class="level4">
<h4 class="anchored" data-anchor-id="per-hour-employees">Per Hour Employees</h4>
<p>It seems unreasonable that the maximum value for an hourly municipal employees was $184,931.45. Upon further investigation, I found that this value comes from the DOE Custodial Payroll, which has only one pay type-an hourly basis. Additionally, half of the records had a per hour rate exceeding $70,000, which suggests the pay is more likely based on an annual salary rather than an hourly rate.</p>
<p>To address the inconsistency between the pay basis and the base salary, I defined a reasonable hourly rate range of $100 for this agency. For observations that fell outside this range, I calculated the hourly pay rate using 1,820 hours.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(agency_name <span class="sc">==</span> <span class="st">"DOE Custodial Payroll"</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(base_salary) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  base_salary    
 Min.   :     1  
 1st Qu.:     1  
 Median : 73774  
 Mean   : 60435  
 3rd Qu.:123636  
 Max.   :184931  </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(agency_name <span class="sc">==</span> <span class="st">"DOE Custodial Payroll"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pay_basis) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  pay_basis
1  per Hour</code></pre>
</div>
</div>
</section>
<section id="per-diem-employees" class="level4">
<h4 class="anchored" data-anchor-id="per-diem-employees">Per Diem Employees</h4>
<p>Let’s explore the subset with <code>pay_basis == per Day</code>. We can see that half of the sample in this category have a base salary per day of less than $33.18. If we are converting the pay to an hourly rate by applying 7.5 hours, it’s likely that some values of <code>base_salary</code> are not consistent with the <code>pay_basis</code> being “per Day”.</p>
<p>To address this, I developed complex rules that take into account both regular hours and base salary, ensuring that the hourly pay falls within a reasonable range. For example, for the group of employees who worked over 650 regular hours and had a third quantile base salary of $380.90, I applied 7.5-hour workday to standardize the calculation.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pay_basis <span class="sc">==</span> <span class="st">"per Day"</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"base_salary"</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  base_salary     
 Min.   :   0.01  
 1st Qu.:  33.18  
 Median :  33.18  
 Mean   :  83.18  
 3rd Qu.: 110.29  
 Max.   : 999.95  </code></pre>
</div>
</div>
</section>
</section>
<section id="missing-values" class="level3">
<h3 class="anchored" data-anchor-id="missing-values">Missing Values</h3>
<p>Be aware that there are over 10,000 missing values in <code>first_name</code> and <code>last_name</code>. Due to confidentiality, some first and last names have been replaced with ‘Xxxx’. For example, approximately 3,541 payroll records in the Police Department having missing names in the data set.</p>
<p>I decided to exclude these records from the calculations for certain quick-facts related questions later.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">any</span>(<span class="fu">is.na</span>(nyc_payroll<span class="sc">$</span>first_name)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">any</span>(<span class="fu">is.na</span>(nyc_payroll<span class="sc">$</span>last_name)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(nyc_payroll<span class="sc">$</span>first_name)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14002</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(nyc_payroll<span class="sc">$</span>last_name)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13934</code></pre>
</div>
</div>
</section>
</section>
<section id="feature-engineering" class="level2">
<h2 class="anchored" data-anchor-id="feature-engineering">Feature Engineering</h2>
<ul>
<li><p>After analyzing the distribution of <code>base_salary</code> for each <code>pay_basis</code>, we can create a new variable called <code>pay_rate</code> to make these observations in the data set comparable.</p></li>
<li><p>To calculate the total compensation at the employee level, I would like to create a variable <code>full_name</code> that concatenates <code>first_name</code>, <code>mid_init</code> and <code>last_name</code>. I chose not to include <code>mid_init</code> for records where <code>mid_init</code> is not a letter.</p></li>
<li><p><strong>Caveat</strong>: The new variable <code>full_name</code> is not ideal as a primary key. One obvious drawback is it may not be unique, as some employees can share the same first and last names.</p></li>
<li><p>I chose to create another variable called <code>empl_id</code>, which concatenates <code>full_name</code>, <code>title_description</code>, and <code>agency_start_date</code>. This will improve the accuracy of calculations at the employee level.</p></li>
<li><p>I also created a variable called <code>total_compensation</code>, which shows the total pay, including both regular hours worked and overtime hours.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="ot">&lt;-</span> nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">pay_rate =</span> <span class="fu">case_when</span>(</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"per Annum"</span>, <span class="st">"Prorated Annual"</span>) <span class="sc">~</span> <span class="fu">round</span>(base_salary<span class="sc">/</span><span class="dv">1820</span>, <span class="dv">2</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">==</span> <span class="st">"per Day"</span> <span class="sc">&amp;</span> regular_hours <span class="sc">&gt;=</span> <span class="dv">650</span> <span class="sc">~</span> <span class="fu">round</span>(base_salary<span class="sc">/</span><span class="fl">7.5</span>, <span class="dv">2</span>),</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">==</span> <span class="st">"per Day"</span> <span class="sc">&amp;</span> regular_hours <span class="sc">&lt;</span> <span class="dv">650</span> <span class="sc">&amp;</span> base_salary <span class="sc">&lt;</span> <span class="dv">40</span> <span class="sc">~</span> base_salary,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">==</span> <span class="st">"per Day"</span> <span class="sc">&amp;</span> regular_hours <span class="sc">&lt;</span> <span class="dv">650</span> <span class="sc">&amp;</span> base_salary <span class="sc">&gt;=</span> <span class="dv">40</span> <span class="sc">&amp;</span> base_salary <span class="sc">&lt;</span> <span class="dv">250</span> <span class="sc">~</span> <span class="fu">round</span>(base_salary<span class="sc">/</span><span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">==</span> <span class="st">"per Day"</span> <span class="sc">&amp;</span> regular_hours <span class="sc">&lt;</span> <span class="dv">650</span> <span class="sc">&amp;</span> base_salary <span class="sc">&gt;=</span> <span class="dv">250</span> <span class="sc">&amp;</span> base_salary <span class="sc">&lt;</span> <span class="dv">500</span> <span class="sc">~</span> <span class="fu">round</span>(base_salary<span class="sc">/</span><span class="dv">4</span>, <span class="dv">2</span>),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">==</span> <span class="st">"per Day"</span> <span class="sc">&amp;</span> regular_hours <span class="sc">&lt;</span> <span class="dv">650</span> <span class="sc">&amp;</span> base_salary <span class="sc">&gt;=</span> <span class="dv">500</span> <span class="sc">~</span> <span class="fu">round</span> (base_salary<span class="sc">/</span><span class="dv">5</span>, <span class="dv">2</span>),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">==</span> <span class="st">"per Hour"</span> <span class="sc">&amp;</span> agency_name <span class="sc">!=</span> <span class="st">"DOE Custodial Payroll"</span> <span class="sc">~</span> base_salary,</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">==</span> <span class="st">"per Hour"</span> <span class="sc">&amp;</span> agency_name <span class="sc">==</span> <span class="st">"DOE Custodial Payroll"</span> <span class="sc">&amp;</span> base_salary <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">~</span> base_salary,</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>      pay_basis <span class="sc">==</span> <span class="st">"per Hour"</span> <span class="sc">&amp;</span> agency_name <span class="sc">==</span> <span class="st">"DOE Custodial Payroll"</span> <span class="sc">&amp;</span> base_salary <span class="sc">&gt;</span> <span class="dv">100</span> <span class="sc">~</span> <span class="fu">round</span>(base_salary<span class="sc">/</span><span class="dv">1820</span>, <span class="dv">2</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_name =</span> <span class="fu">ifelse</span>(</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">grepl</span>(<span class="st">"^[A-Za-z]$"</span>, mid_init), </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste</span>(first_name, mid_init, last_name),</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste</span>(first_name, last_name)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_compensation =</span> pay_rate <span class="sc">*</span> regular_hours <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> pay_rate <span class="sc">*</span> ot_hours,</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">empl_id =</span> <span class="fu">paste</span>(full_name, title_description, agency_start_date, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The section shows the calculations used to derive the <strong>Quick Facts</strong> mentioned earlier.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Calculations Related to Qucik Facts">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Calculations Related to Qucik Facts
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Which job title has the highest base rate of pay?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(pay_rate, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(agency_name, title_description, pay_rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>               agency_name title_description pay_rate
1 Civil Service Commission          Chairman    566.6</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Which individual &amp; in what year had the single highest city total payroll?</li>
</ol>
<ul>
<li>In question 2 and 3, I filtered the dataset to include only observations with a real name.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span> <span class="fu">is.na</span>(first_name) <span class="sc">&amp;</span> <span class="sc">!</span> <span class="fu">is.na</span>(last_name) <span class="sc">&amp;</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>           first_name <span class="sc">!=</span> <span class="st">"Xxxx"</span> <span class="sc">&amp;</span> last_name <span class="sc">!=</span> <span class="st">"Xxxx"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(total_compensation, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(fiscal_year, agency_name, full_name, regular_hours, ot_hours, </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>         total_compensation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  fiscal_year     agency_name      full_name regular_hours ot_hours
1        2021 Fire Department Daniel E Flynn          2080  1564.92
  total_compensation
1           572770.2</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Which individual worked the most overtime hours in this data set?</li>
</ol>
<ul>
<li>If we aggregate overtime hours by <code>full_name</code> only, the output may not be meaningful. For example, employees with the full name “Md S Islam” hold 20 different positions in NYC, indicating that the distinct employees share the same full name. To improve accuracy, I decided to group by <code>empl_id</code> instead.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span> <span class="fu">is.na</span>(first_name) <span class="sc">&amp;</span> <span class="sc">!</span> <span class="fu">is.na</span>(last_name) <span class="sc">&amp;</span> first_name <span class="sc">!=</span> <span class="st">"Xxxx"</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>         <span class="sc">&amp;</span> last_name <span class="sc">!=</span> <span class="st">"Xxxx"</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(empl_id) <span class="sc">|&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n_ot_hours =</span> <span class="fu">sum</span>(ot_hours)) <span class="sc">|&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n_ot_hours, <span class="at">n =</span> <span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  empl_id                                                            n_ot_hours
  &lt;chr&gt;                                                                   &lt;dbl&gt;
1 William E Gittens_City Custodial Assistant_2014-04-21T00:00:00.000     18565.</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Which agency has the highest average total annual payroll (based and overtime per employee)?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fiscal_year, agency_name) <span class="sc">|&gt;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_annual_payroll =</span> <span class="fu">sum</span>(total_compensation) <span class="sc">/</span> <span class="fu">n_distinct</span>(empl_id)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(agency_name) <span class="sc">|&gt;</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_annual_payroll_by_agency =</span> <span class="fu">mean</span>(avg_annual_payroll)) <span class="sc">|&gt;</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(avg_annual_payroll_by_agency, <span class="at">n =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  agency_name                     avg_annual_payroll_by_agency
  &lt;chr&gt;                                                  &lt;dbl&gt;
1 Office Of Collective Bargaining                      105584.</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Which agency has the most employees on the payroll in each year?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fiscal_year, agency_name) <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n_employees =</span> <span class="fu">n_distinct</span>(empl_id)) <span class="sc">|&gt;</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n_employees, <span class="at">n =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 3
# Groups:   fiscal_year [11]
   fiscal_year agency_name                    n_employees
         &lt;int&gt; &lt;chr&gt;                                &lt;int&gt;
 1        2014 Dept Of Ed Pedagogical              100583
 2        2015 Dept Of Ed Pedagogical              111851
 3        2016 Dept Of Ed Pedagogical              106256
 4        2017 Dept Of Ed Pedagogical              104624
 5        2018 Dept Of Ed Pedagogical              107952
 6        2019 Dept Of Ed Pedagogical              112064
 7        2020 Dept Of Ed Pedagogical              114994
 8        2021 Dept Of Ed Per Session Teacher      102326
 9        2022 Dept Of Ed Pedagogical              110561
10        2023 Dept Of Ed Pedagogical               57747
11        2024 Dept Of Ed Pedagogical               73509</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Which agency has the highest overtime usage (compared to regular hours)?</li>
</ol>
<ul>
<li>First, we can calculate the total number of regular and overtime hours.</li>
<li>Although the Board of Elections doesn’t have the highest overtime hours worked, it has the highest percentage of total overtime relative to total regular hours.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll<span class="sc">|&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(agency_name) <span class="sc">|&gt;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_regular_hours =</span> <span class="fu">sum</span>(regular_hours), </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_ot_hours =</span> <span class="fu">sum</span>(ot_hours), </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ot_pct_of_regular =</span> total_ot_hours<span class="sc">/</span>total_regular_hours</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(ot_pct_of_regular, <span class="at">n =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  agency_name        total_regular_hours total_ot_hours ot_pct_of_regular
  &lt;chr&gt;                            &lt;dbl&gt;          &lt;dbl&gt;             &lt;dbl&gt;
1 Board Of Elections           15339960.       3062029.             0.200</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>What is the average salary of employees who work outside the five boroughs?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span> work_location_borough <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Manhattan"</span>, <span class="st">"Brookly"</span>, <span class="st">"Queens"</span>, <span class="st">"Bronx"</span>, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"Staten Island"</span>) ) <span class="sc">|&gt;</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_salary =</span> <span class="fu">sum</span>(total_compensation)<span class="sc">/</span> <span class="fu">n_distinct</span>(empl_id)) <span class="sc">|&gt;</span> </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(avg_salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  avg_salary
1   91475.31</code></pre>
</div>
</div>
<ol start="8" type="1">
<li>How much has the city’s aggregate payroll grown over the past years?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll<span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fiscal_year) <span class="sc">|&gt;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">aggregate_payroll =</span> <span class="fu">sum</span>(total_compensation)) <span class="sc">|&gt;</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(fiscal_year) <span class="sc">|&gt;</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">payroll_growth_rate =</span> <span class="fu">last</span>(aggregate_payroll)<span class="sc">/</span><span class="fu">first</span>(aggregate_payroll) <span class="sc">-</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  payroll_growth_rate
                &lt;dbl&gt;
1               0.351</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="policy-analyses" class="level2">
<h2 class="anchored" data-anchor-id="policy-analyses">Policy Analyses</h2>
<section id="capping-salaries-at-mayoral-level" class="level3">
<h3 class="anchored" data-anchor-id="capping-salaries-at-mayoral-level">Capping Salaries at Mayoral Level</h3>
<p>The first policy is to cap salaries at the Mayoral level. It’s worth noting that Mayor Bloomberg’s salary in 2014 was $1, which was an exception. To ensure a fair analysis, I adjusted it to reflect a standard NYC mayor’s pay.</p>
<p>First, I computed the total mayor pay for each fiscal year and used it as a benchmark to identify the employees whose total compensation exceeded the amount in the same fiscal year. From there, I conducted a salary cap analysis.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>benchmark <span class="ot">&lt;-</span> nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(title_description <span class="sc">==</span> <span class="st">"Mayor"</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fiscal_year) <span class="sc">|&gt;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_mayor_pay =</span> <span class="fu">sum</span>(<span class="fu">case_when</span>(</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    fiscal_year <span class="sc">==</span> <span class="dv">2014</span> <span class="sc">~</span> <span class="dv">2</span> <span class="sc">*</span> total_compensation,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> total_compensation)) </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="ot">&lt;-</span> nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(benchmark, <span class="at">by =</span> <span class="st">"fiscal_year"</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">salary_cap =</span> total_mayor_pay) <span class="sc">|&gt;</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">is_above_the_cap =</span> <span class="fu">ifelse</span>(</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>      total_compensation <span class="sc">&gt;</span> salary_cap, <span class="st">"Yes"</span>, <span class="st">"No"</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">pay_savings_from_cap =</span> <span class="fu">ifelse</span>(</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>      is_above_the_cap <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="fu">round</span>(total_compensation <span class="sc">-</span> salary_cap, <span class="dv">2</span>), <span class="dv">0</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>benchmark <span class="sc">|&gt;</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"Table 0. Salary History of NYC Mayor 2014-2024"</span>),</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"The mayor's salary serves as the benchmark for the salary cap </span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="st">    policy"</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_currency</span>(</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> total_mayor_pay,</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">currency =</span> <span class="st">"USD"</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">fiscal_year =</span> <span class="st">"Fiscal Year"</span>,</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_mayor_pay =</span> <span class="st">"Total Mayor's Compensation"</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="ldlnaexcfc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ldlnaexcfc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ldlnaexcfc thead, #ldlnaexcfc tbody, #ldlnaexcfc tfoot, #ldlnaexcfc tr, #ldlnaexcfc td, #ldlnaexcfc th {
  border-style: none;
}

#ldlnaexcfc p {
  margin: 0;
  padding: 0;
}

#ldlnaexcfc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ldlnaexcfc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ldlnaexcfc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ldlnaexcfc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ldlnaexcfc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ldlnaexcfc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ldlnaexcfc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ldlnaexcfc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ldlnaexcfc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ldlnaexcfc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ldlnaexcfc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ldlnaexcfc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ldlnaexcfc .gt_spanner_row {
  border-bottom-style: hidden;
}

#ldlnaexcfc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ldlnaexcfc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ldlnaexcfc .gt_from_md > :first-child {
  margin-top: 0;
}

#ldlnaexcfc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ldlnaexcfc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ldlnaexcfc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ldlnaexcfc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ldlnaexcfc .gt_row_group_first td {
  border-top-width: 2px;
}

#ldlnaexcfc .gt_row_group_first th {
  border-top-width: 2px;
}

#ldlnaexcfc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ldlnaexcfc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ldlnaexcfc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ldlnaexcfc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ldlnaexcfc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ldlnaexcfc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ldlnaexcfc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ldlnaexcfc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ldlnaexcfc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ldlnaexcfc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ldlnaexcfc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ldlnaexcfc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ldlnaexcfc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ldlnaexcfc .gt_left {
  text-align: left;
}

#ldlnaexcfc .gt_center {
  text-align: center;
}

#ldlnaexcfc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ldlnaexcfc .gt_font_normal {
  font-weight: normal;
}

#ldlnaexcfc .gt_font_bold {
  font-weight: bold;
}

#ldlnaexcfc .gt_font_italic {
  font-style: italic;
}

#ldlnaexcfc .gt_super {
  font-size: 65%;
}

#ldlnaexcfc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ldlnaexcfc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ldlnaexcfc .gt_indent_1 {
  text-indent: 5px;
}

#ldlnaexcfc .gt_indent_2 {
  text-indent: 10px;
}

#ldlnaexcfc .gt_indent_3 {
  text-indent: 15px;
}

#ldlnaexcfc .gt_indent_4 {
  text-indent: 20px;
}

#ldlnaexcfc .gt_indent_5 {
  text-indent: 25px;
}

#ldlnaexcfc .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ldlnaexcfc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="2" class="gt_heading gt_title gt_font_normal">Table 0. Salary History of NYC Mayor 2014-2024</th>
</tr>
<tr class="odd gt_heading">
<th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">The mayor's salary serves as the benchmark for the salary cap policy</th>
</tr>
<tr class="header gt_col_headings">
<th id="fiscal_year" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Fiscal Year</th>
<th id="total_mayor_pay" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Mayor's Compensation</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2014</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$224,017.56</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2015</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$225,624.75</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2016</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$226,242.90</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2017</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$225,624.75</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2018</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$254,484.30</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2019</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$259,460.25</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2020</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$258,749.40</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2021</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$258,749.40</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2022</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$259,033.74</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2023</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$258,749.40</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2024</td>
<td class="gt_row gt_right" headers="total_mayor_pay">$258,749.40</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Based on my analysis, if the salary cap policy had been implemented, it would have saved a total of $92,359,814 over the past ten fiscal years, as illustrated in Table 1. We can also see that the total savings in 2022 and 2024 are significant; which is consistent with the fact that those years had the highest number of employees whose total compensation exceeds the Mayor’s pay, as shown in chart 1.</p>
<p>And the captains from the Fire Department and the Department of Correction would bear the most brunt of the policy. The savings from the two department would account for about 60%.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>total_savings_fiscal_year <span class="ot">&lt;-</span>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fiscal_year) <span class="sc">|&gt;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_savings =</span> <span class="fu">sum</span>(pay_savings_from_cap))</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>total_savings_fiscal_year <span class="sc">|&gt;</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fiscal_year  =</span> <span class="fu">as.character</span>(fiscal_year)) <span class="sc">|&gt;</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="at">fiscal_year =</span> <span class="st">"Total"</span>, <span class="at">total_savings =</span> <span class="fu">sum</span>(nyc_payroll<span class="sc">$</span>pay_savings_from_cap, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">|&gt;</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"Table 1. Financial Impact of Salary Caps on Payroll Expenses"</span>)</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_currency</span>(</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> total_savings,</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">currency =</span> <span class="st">"USD"</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">fiscal_year =</span> <span class="st">"Fiscal Year"</span>,</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_savings =</span> <span class="st">"Projected Payroll Savings"</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="oiwmqghswx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#oiwmqghswx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#oiwmqghswx thead, #oiwmqghswx tbody, #oiwmqghswx tfoot, #oiwmqghswx tr, #oiwmqghswx td, #oiwmqghswx th {
  border-style: none;
}

#oiwmqghswx p {
  margin: 0;
  padding: 0;
}

#oiwmqghswx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#oiwmqghswx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#oiwmqghswx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#oiwmqghswx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#oiwmqghswx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oiwmqghswx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oiwmqghswx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oiwmqghswx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#oiwmqghswx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#oiwmqghswx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#oiwmqghswx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#oiwmqghswx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#oiwmqghswx .gt_spanner_row {
  border-bottom-style: hidden;
}

#oiwmqghswx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#oiwmqghswx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#oiwmqghswx .gt_from_md > :first-child {
  margin-top: 0;
}

#oiwmqghswx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#oiwmqghswx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#oiwmqghswx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#oiwmqghswx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#oiwmqghswx .gt_row_group_first td {
  border-top-width: 2px;
}

#oiwmqghswx .gt_row_group_first th {
  border-top-width: 2px;
}

#oiwmqghswx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oiwmqghswx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#oiwmqghswx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#oiwmqghswx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oiwmqghswx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oiwmqghswx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#oiwmqghswx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#oiwmqghswx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#oiwmqghswx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oiwmqghswx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oiwmqghswx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oiwmqghswx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oiwmqghswx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oiwmqghswx .gt_left {
  text-align: left;
}

#oiwmqghswx .gt_center {
  text-align: center;
}

#oiwmqghswx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#oiwmqghswx .gt_font_normal {
  font-weight: normal;
}

#oiwmqghswx .gt_font_bold {
  font-weight: bold;
}

#oiwmqghswx .gt_font_italic {
  font-style: italic;
}

#oiwmqghswx .gt_super {
  font-size: 65%;
}

#oiwmqghswx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#oiwmqghswx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#oiwmqghswx .gt_indent_1 {
  text-indent: 5px;
}

#oiwmqghswx .gt_indent_2 {
  text-indent: 10px;
}

#oiwmqghswx .gt_indent_3 {
  text-indent: 15px;
}

#oiwmqghswx .gt_indent_4 {
  text-indent: 20px;
}

#oiwmqghswx .gt_indent_5 {
  text-indent: 25px;
}

#oiwmqghswx .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#oiwmqghswx div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border">Table 1. Financial Impact of Salary Caps on Payroll Expenses</th>
</tr>
<tr class="odd gt_col_headings">
<th id="fiscal_year" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Fiscal Year</th>
<th id="total_savings" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Projected Payroll Savings</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="fiscal_year">2014</td>
<td class="gt_row gt_right" headers="total_savings">$285,683.31</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="fiscal_year">2015</td>
<td class="gt_row gt_right" headers="total_savings">$1,417,842.09</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="fiscal_year">2016</td>
<td class="gt_row gt_right" headers="total_savings">$3,282,571.08</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="fiscal_year">2017</td>
<td class="gt_row gt_right" headers="total_savings">$5,026,507.07</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="fiscal_year">2018</td>
<td class="gt_row gt_right" headers="total_savings">$435,666.22</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="fiscal_year">2019</td>
<td class="gt_row gt_right" headers="total_savings">$1,188,031.09</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="fiscal_year">2020</td>
<td class="gt_row gt_right" headers="total_savings">$6,788,684.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="fiscal_year">2021</td>
<td class="gt_row gt_right" headers="total_savings">$7,025,046.78</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="fiscal_year">2022</td>
<td class="gt_row gt_right" headers="total_savings">$27,990,701.39</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="fiscal_year">2023</td>
<td class="gt_row gt_right" headers="total_savings">$9,072,817.16</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="fiscal_year">2024</td>
<td class="gt_row gt_right" headers="total_savings">$29,846,263.41</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="fiscal_year">Total</td>
<td class="gt_row gt_right" headers="total_savings">$92,359,813.60</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>n_employees_exceeding_benchmark <span class="ot">&lt;-</span> nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_above_the_cap <span class="sc">==</span> <span class="st">"Yes"</span>) <span class="sc">|&gt;</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fiscal_year) <span class="sc">|&gt;</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n_distinct</span>(full_name))</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(n_employees_exceeding_benchmark, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(fiscal_year), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Chart 1. Number of Employees by Fiscal Year"</span>,</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Fiscal Year"</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Employees"</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp01_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>It’s evident that the highest savings come from the Department of Correction, the Fire Department and the Policy Department. Chart 2 illustrates the savings contribution by agency, with these three accounting for a total of 81%.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_above_the_cap <span class="sc">==</span> <span class="st">"Yes"</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(agency_name, title_description) <span class="sc">|&gt;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">est_savings =</span> <span class="fu">sum</span>(pay_savings_from_cap)) <span class="sc">|&gt;</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(est_savings), <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"Table 2. Top 10 Highest Savings Across Agency and Role"</span>)</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_currency</span>(</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> est_savings,</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">currency =</span> <span class="st">"USD"</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency_name =</span> <span class="st">"Agency Name"</span>,</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_description =</span> <span class="st">"Title Description"</span>,</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_savings =</span> <span class="st">"Estimated Payroll Savings"</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="ojnqxtvyyd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ojnqxtvyyd table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ojnqxtvyyd thead, #ojnqxtvyyd tbody, #ojnqxtvyyd tfoot, #ojnqxtvyyd tr, #ojnqxtvyyd td, #ojnqxtvyyd th {
  border-style: none;
}

#ojnqxtvyyd p {
  margin: 0;
  padding: 0;
}

#ojnqxtvyyd .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ojnqxtvyyd .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ojnqxtvyyd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ojnqxtvyyd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ojnqxtvyyd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ojnqxtvyyd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojnqxtvyyd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ojnqxtvyyd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ojnqxtvyyd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ojnqxtvyyd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ojnqxtvyyd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ojnqxtvyyd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ojnqxtvyyd .gt_spanner_row {
  border-bottom-style: hidden;
}

#ojnqxtvyyd .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ojnqxtvyyd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ojnqxtvyyd .gt_from_md > :first-child {
  margin-top: 0;
}

#ojnqxtvyyd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ojnqxtvyyd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ojnqxtvyyd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ojnqxtvyyd .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ojnqxtvyyd .gt_row_group_first td {
  border-top-width: 2px;
}

#ojnqxtvyyd .gt_row_group_first th {
  border-top-width: 2px;
}

#ojnqxtvyyd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojnqxtvyyd .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ojnqxtvyyd .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ojnqxtvyyd .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojnqxtvyyd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojnqxtvyyd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ojnqxtvyyd .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ojnqxtvyyd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ojnqxtvyyd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojnqxtvyyd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ojnqxtvyyd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojnqxtvyyd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ojnqxtvyyd .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojnqxtvyyd .gt_left {
  text-align: left;
}

#ojnqxtvyyd .gt_center {
  text-align: center;
}

#ojnqxtvyyd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ojnqxtvyyd .gt_font_normal {
  font-weight: normal;
}

#ojnqxtvyyd .gt_font_bold {
  font-weight: bold;
}

#ojnqxtvyyd .gt_font_italic {
  font-style: italic;
}

#ojnqxtvyyd .gt_super {
  font-size: 65%;
}

#ojnqxtvyyd .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ojnqxtvyyd .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ojnqxtvyyd .gt_indent_1 {
  text-indent: 5px;
}

#ojnqxtvyyd .gt_indent_2 {
  text-indent: 10px;
}

#ojnqxtvyyd .gt_indent_3 {
  text-indent: 15px;
}

#ojnqxtvyyd .gt_indent_4 {
  text-indent: 20px;
}

#ojnqxtvyyd .gt_indent_5 {
  text-indent: 25px;
}

#ojnqxtvyyd .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ojnqxtvyyd div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border">Table 2. Top 10 Highest Savings Across Agency and Role</th>
</tr>
<tr class="odd gt_col_headings">
<th id="title_description" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Title Description</th>
<th id="est_savings" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Estimated Payroll Savings</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd gt_group_heading_row">
<td colspan="2" id="Department Of Correction" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Department Of Correction</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="Department Of Correction  title_description">Captain</td>
<td class="gt_row gt_right" headers="Department Of Correction  est_savings">$13,433,166.03</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Department Of Correction  title_description">Warden-Assistant Deputy Warden Ted &lt; 11/1/92</td>
<td class="gt_row gt_right" headers="Department Of Correction  est_savings">$6,921,116.26</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Department Of Correction  title_description">Correction Officer</td>
<td class="gt_row gt_right" headers="Department Of Correction  est_savings">$4,806,111.44</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Department Of Correction  title_description">Senior Stationary Engineer</td>
<td class="gt_row gt_right" headers="Department Of Correction  est_savings">$2,522,180.13</td>
</tr>
<tr class="even gt_group_heading_row">
<td colspan="2" id="Fire Department" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Fire Department</td>
</tr>
<tr class="odd gt_row_group_first">
<td class="gt_row gt_left" headers="Fire Department  title_description">Captain</td>
<td class="gt_row gt_right" headers="Fire Department  est_savings">$9,358,012.85</td>
</tr>
<tr class="even gt_group_heading_row">
<td colspan="2" id="Police Department" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Police Department</td>
</tr>
<tr class="odd gt_row_group_first">
<td class="gt_row gt_left" headers="Police Department  title_description">Police Officer D/A Detective 1st Gr</td>
<td class="gt_row gt_right" headers="Police Department  est_savings">$3,776,058.95</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Police Department  title_description">Lieutenant D/A Commander Of Detective Squad</td>
<td class="gt_row gt_right" headers="Police Department  est_savings">$3,412,895.39</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Police Department  title_description">Captain Detailed As Assistant Chief Inspector</td>
<td class="gt_row gt_right" headers="Police Department  est_savings">$2,850,211.89</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Police Department  title_description">Lieutenant D/A Special Assignment</td>
<td class="gt_row gt_right" headers="Police Department  est_savings">$2,731,126.69</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="2" id="Dept Of Health/Mental Hygiene" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Dept Of Health/Mental Hygiene</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="Dept Of Health/Mental Hygiene  title_description">City Medical Examiner</td>
<td class="gt_row gt_right" headers="Dept Of Health/Mental Hygiene  est_savings">$2,513,273.14</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>total_savings_pct_by_agency <span class="ot">&lt;-</span> nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_above_the_cap <span class="sc">==</span> <span class="st">"Yes"</span>) <span class="sc">|&gt;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(agency_name) <span class="sc">|&gt;</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">savings_percentage =</span> <span class="fu">round</span>(<span class="fu">sum</span>(pay_savings_from_cap)<span class="sc">/</span><span class="dv">92359814</span>, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency_name =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>      savings_percentage <span class="sc">&gt;</span> <span class="fl">0.1</span> <span class="sc">~</span> agency_name,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Others"</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(agency_name) <span class="sc">|&gt;</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_savings_percentage_by_agency =</span> <span class="fu">sum</span>(savings_percentage))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>total_savings_pct_by_agency <span class="ot">&lt;-</span> total_savings_pct_by_agency <span class="sc">|&gt;</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">paste</span>(agency_name, scales<span class="sc">::</span><span class="fu">percent</span>(total_savings_percentage_by_agency))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(total_savings_pct_by_agency, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> total_savings_percentage_by_agency, <span class="at">fill =</span> agency_name)) <span class="sc">+</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> label), <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Chart 2. Total Projected Payroll Savings Percentage by Agency"</span>,</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Agency"</span>,</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: NYC Payroll Data"</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Department Of Correction"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>,</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Fire Department"</span> <span class="ot">=</span> <span class="st">"darkorange"</span>,</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Others"</span> <span class="ot">=</span> <span class="st">"firebrick"</span>,</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Police Department"</span> <span class="ot">=</span> <span class="st">"darkgreen"</span></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp01_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here is something interesting to note in Table 3: If we only consider their base salaries, they are actually below the benchmark. However, since 2015, they have worked an average of 1,300 overtime hours per year, which led to their total compensation exceeding the Mayor’s level.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_above_the_cap <span class="sc">==</span> <span class="st">"Yes"</span>, agency_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Department Of Correction"</span>, <span class="st">"Fire Department"</span>), </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>         title_description <span class="sc">==</span> <span class="st">"Captain"</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fiscal_year) <span class="sc">|&gt;</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_ot_hours =</span> <span class="fu">mean</span>(ot_hours), <span class="at">avg_base_salary =</span> <span class="fu">mean</span>(base_salary)) <span class="sc">|&gt;</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"Table 3. Total Overtime Hours and Base Salary"</span>), </span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Two captains from the Fire Department and The Department of Correction "</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_currency</span>(</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> avg_base_salary,</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">currency =</span> <span class="st">"USD"</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">fiscal_year =</span> <span class="st">"Fiscal Year"</span>,</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_ot_hours =</span> <span class="st">"Average Overtime Hours Worked"</span>,</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_base_salary =</span> <span class="st">"Average Base Salary"</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="jrreuqnsfo" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jrreuqnsfo table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jrreuqnsfo thead, #jrreuqnsfo tbody, #jrreuqnsfo tfoot, #jrreuqnsfo tr, #jrreuqnsfo td, #jrreuqnsfo th {
  border-style: none;
}

#jrreuqnsfo p {
  margin: 0;
  padding: 0;
}

#jrreuqnsfo .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jrreuqnsfo .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jrreuqnsfo .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jrreuqnsfo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jrreuqnsfo .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jrreuqnsfo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jrreuqnsfo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jrreuqnsfo .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jrreuqnsfo .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jrreuqnsfo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jrreuqnsfo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jrreuqnsfo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jrreuqnsfo .gt_spanner_row {
  border-bottom-style: hidden;
}

#jrreuqnsfo .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jrreuqnsfo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jrreuqnsfo .gt_from_md > :first-child {
  margin-top: 0;
}

#jrreuqnsfo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jrreuqnsfo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jrreuqnsfo .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jrreuqnsfo .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jrreuqnsfo .gt_row_group_first td {
  border-top-width: 2px;
}

#jrreuqnsfo .gt_row_group_first th {
  border-top-width: 2px;
}

#jrreuqnsfo .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jrreuqnsfo .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jrreuqnsfo .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jrreuqnsfo .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jrreuqnsfo .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jrreuqnsfo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jrreuqnsfo .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jrreuqnsfo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jrreuqnsfo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jrreuqnsfo .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jrreuqnsfo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jrreuqnsfo .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jrreuqnsfo .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jrreuqnsfo .gt_left {
  text-align: left;
}

#jrreuqnsfo .gt_center {
  text-align: center;
}

#jrreuqnsfo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jrreuqnsfo .gt_font_normal {
  font-weight: normal;
}

#jrreuqnsfo .gt_font_bold {
  font-weight: bold;
}

#jrreuqnsfo .gt_font_italic {
  font-style: italic;
}

#jrreuqnsfo .gt_super {
  font-size: 65%;
}

#jrreuqnsfo .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jrreuqnsfo .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jrreuqnsfo .gt_indent_1 {
  text-indent: 5px;
}

#jrreuqnsfo .gt_indent_2 {
  text-indent: 10px;
}

#jrreuqnsfo .gt_indent_3 {
  text-indent: 15px;
}

#jrreuqnsfo .gt_indent_4 {
  text-indent: 20px;
}

#jrreuqnsfo .gt_indent_5 {
  text-indent: 25px;
}

#jrreuqnsfo .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jrreuqnsfo div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="3" class="gt_heading gt_title gt_font_normal">Table 3. Total Overtime Hours and Base Salary</th>
</tr>
<tr class="odd gt_heading">
<th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">Two captains from the Fire Department and The Department of Correction</th>
</tr>
<tr class="header gt_col_headings">
<th id="fiscal_year" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Fiscal Year</th>
<th id="avg_ot_hours" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Overtime Hours Worked</th>
<th id="avg_base_salary" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Base Salary</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2015</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1429.180</td>
<td class="gt_row gt_right" headers="avg_base_salary">$103,727.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2016</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1525.383</td>
<td class="gt_row gt_right" headers="avg_base_salary">$101,224.50</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2017</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1435.201</td>
<td class="gt_row gt_right" headers="avg_base_salary">$105,414.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2018</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1612.188</td>
<td class="gt_row gt_right" headers="avg_base_salary">$106,175.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2020</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1549.817</td>
<td class="gt_row gt_right" headers="avg_base_salary">$113,770.27</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2021</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1418.045</td>
<td class="gt_row gt_right" headers="avg_base_salary">$122,421.22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2022</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1443.758</td>
<td class="gt_row gt_right" headers="avg_base_salary">$126,856.89</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fiscal_year">2023</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1301.989</td>
<td class="gt_row gt_right" headers="avg_base_salary">$127,227.86</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fiscal_year">2024</td>
<td class="gt_row gt_right" headers="avg_ot_hours">1154.149</td>
<td class="gt_row gt_right" headers="avg_base_salary">$138,945.35</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>In conclusion, I do not recommend implementing a salary cap policy as I do not believe it will be effective. The reason is that very few employees have a base salary exceeding the Mayor’s salary.</p>
<p>Even if we cap their salaries, those entitled to overtime pay would likely nullify the policy’s impact. For instance, the captain in the Department of Correction and the captain in the Fire Department had total compensation exceeding the Mayor’s salary. However, their base salaries were only half of the Mayor’s. It was their overtime earnings that pushed their total pay above the benchmark.</p>
<p>Therefore, I do not believe a salary cap would be an effective solution.</p>
</section>
<section id="increasing-staffing-to-reduce-overtime-expenses" class="level3">
<h3 class="anchored" data-anchor-id="increasing-staffing-to-reduce-overtime-expenses">Increasing Staffing to Reduce Overtime Expenses</h3>
<p>To explore the the impact and savings by increasing staffing to reduce overtime hours. First, I aggregated the total overtime hours for each combination of agency and job title and calculated the number of full-time employee equivalents using a standard of 1,820 hours per full-time employee. Using the average pay rate for each combination of agency and position, I then computed the potential full-time salary if overtime hours were replaced by equivalent full-time positions.</p>
<p>From my analyses, we can see that replacing overtime hours with full-time employees would have resulted in total savings of $8,293,349,444 over the past ten fiscal years. This policy proves to be more effective in generating savings than the salary cap.</p>
<p>As previously mentioned, there are actually very few municipal employees whose base salaries exceed the Mayor’s salary. The main reason their total compensation surpasses this level is the significant amount of overtime worked.</p>
<p>In addition, we can see that a 50% savings can be achieved from increasing the number of full-time employees to reduce overtime hours, particularly in the Police Department and the Fire Department.</p>
<p>Table 4 shows the total overtime hours worked by some agencies over ten years and the number of full-time equivalents required to replace those overtime hours, assuming 1,820 hours per full-time employee. This policy is more effective, as it would have saved more than the possible savings under the salary cap. However, the challenge lies in the significant staffing requirements and the associated costs, which have not yet been accounted for. For example, replacing the 149,075,897 overtime hours in the Police Department, we need to hire 81,910 full-time employees.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>overtime_replacement <span class="ot">&lt;-</span> nyc_payroll <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">agency_role =</span> <span class="fu">paste</span>(agency_name, title_description, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fiscal_year, agency_role) <span class="sc">|&gt;</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_pay_rate =</span> <span class="fu">mean</span>(pay_rate), <span class="at">total_ot_worked =</span> <span class="fu">sum</span>(ot_hours)) <span class="sc">|&gt;</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_ot_worked <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_time_equivalent =</span> <span class="fu">round</span>(total_ot_worked<span class="sc">/</span><span class="dv">1820</span>, <span class="dv">6</span>),</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_time_pay =</span> <span class="fu">round</span>(avg_pay_rate <span class="sc">*</span> full_time_equivalent <span class="sc">*</span> <span class="dv">1820</span>, <span class="dv">2</span>),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">ot_reduction_savings =</span> total_ot_worked <span class="sc">*</span> <span class="fl">1.5</span> <span class="sc">*</span> avg_pay_rate <span class="sc">-</span> full_time_pay,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency =</span> <span class="fu">str_extract</span>(agency_role, <span class="st">"^[^_]+"</span>)</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_savings =</span> <span class="fu">sum</span>(ot_reduction_savings),</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">savings_pct_of_total =</span> ot_reduction_savings<span class="sc">/</span>total_savings</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>df_overtime <span class="ot">&lt;-</span> overtime_replacement <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(agency) <span class="sc">|&gt;</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_ot =</span> <span class="fu">sum</span>(total_ot_worked), </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">full_time_equivalents =</span> <span class="fu">round</span>(<span class="fu">sum</span>(full_time_equivalent), <span class="dv">0</span>), </span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">payroll_savings =</span> <span class="fu">sum</span>(ot_reduction_savings)) <span class="sc">|&gt;</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_ot)) <span class="sc">|&gt;</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>df_overtime <span class="sc">|&gt;</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"agency"</span>, <span class="st">"total_ot"</span>, <span class="st">"full_time_equivalents"</span>) <span class="sc">|&gt;</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"Table 4. Overtime Hours and Full Time Equivalents by Agency"</span>),</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Top 10 Agencies with the Highest Overtime Hours and Their Full-Time Equivalents"</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency =</span> <span class="st">"Agency Name"</span>,</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_ot =</span> <span class="st">"Total Overtime Hours Worked"</span>,</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_time_equivalents =</span> <span class="st">"Full-Time Equivalents"</span></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="zgkzepmczi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zgkzepmczi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zgkzepmczi thead, #zgkzepmczi tbody, #zgkzepmczi tfoot, #zgkzepmczi tr, #zgkzepmczi td, #zgkzepmczi th {
  border-style: none;
}

#zgkzepmczi p {
  margin: 0;
  padding: 0;
}

#zgkzepmczi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zgkzepmczi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zgkzepmczi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zgkzepmczi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zgkzepmczi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zgkzepmczi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zgkzepmczi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zgkzepmczi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zgkzepmczi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zgkzepmczi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zgkzepmczi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zgkzepmczi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zgkzepmczi .gt_spanner_row {
  border-bottom-style: hidden;
}

#zgkzepmczi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zgkzepmczi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zgkzepmczi .gt_from_md > :first-child {
  margin-top: 0;
}

#zgkzepmczi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zgkzepmczi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zgkzepmczi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zgkzepmczi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zgkzepmczi .gt_row_group_first td {
  border-top-width: 2px;
}

#zgkzepmczi .gt_row_group_first th {
  border-top-width: 2px;
}

#zgkzepmczi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zgkzepmczi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zgkzepmczi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zgkzepmczi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zgkzepmczi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zgkzepmczi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zgkzepmczi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zgkzepmczi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zgkzepmczi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zgkzepmczi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zgkzepmczi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zgkzepmczi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zgkzepmczi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zgkzepmczi .gt_left {
  text-align: left;
}

#zgkzepmczi .gt_center {
  text-align: center;
}

#zgkzepmczi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zgkzepmczi .gt_font_normal {
  font-weight: normal;
}

#zgkzepmczi .gt_font_bold {
  font-weight: bold;
}

#zgkzepmczi .gt_font_italic {
  font-style: italic;
}

#zgkzepmczi .gt_super {
  font-size: 65%;
}

#zgkzepmczi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zgkzepmczi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zgkzepmczi .gt_indent_1 {
  text-indent: 5px;
}

#zgkzepmczi .gt_indent_2 {
  text-indent: 10px;
}

#zgkzepmczi .gt_indent_3 {
  text-indent: 15px;
}

#zgkzepmczi .gt_indent_4 {
  text-indent: 20px;
}

#zgkzepmczi .gt_indent_5 {
  text-indent: 25px;
}

#zgkzepmczi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#zgkzepmczi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="3" class="gt_heading gt_title gt_font_normal">Table 4. Overtime Hours and Full Time Equivalents by Agency</th>
</tr>
<tr class="odd gt_heading">
<th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">Top 10 Agencies with the Highest Overtime Hours and Their Full-Time Equivalents</th>
</tr>
<tr class="header gt_col_headings">
<th id="agency" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Agency Name</th>
<th id="total_ot" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Overtime Hours Worked</th>
<th id="full_time_equivalents" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Full-Time Equivalents</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="agency">Police Department</td>
<td class="gt_row gt_right" headers="total_ot">149075897</td>
<td class="gt_row gt_right" headers="full_time_equivalents">81910</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency">Fire Department</td>
<td class="gt_row gt_right" headers="total_ot">72277786</td>
<td class="gt_row gt_right" headers="full_time_equivalents">39713</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency">Department Of Correction</td>
<td class="gt_row gt_right" headers="total_ot">43080488</td>
<td class="gt_row gt_right" headers="full_time_equivalents">23671</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency">Department Of Sanitation</td>
<td class="gt_row gt_right" headers="total_ot">31479058</td>
<td class="gt_row gt_right" headers="full_time_equivalents">17296</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency">Nyc Housing Authority</td>
<td class="gt_row gt_right" headers="total_ot">26123750</td>
<td class="gt_row gt_right" headers="full_time_equivalents">14354</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency">Hra/Dept Of Social Services</td>
<td class="gt_row gt_right" headers="total_ot">13765250</td>
<td class="gt_row gt_right" headers="full_time_equivalents">7563</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency">Department Of Transportation</td>
<td class="gt_row gt_right" headers="total_ot">12784217</td>
<td class="gt_row gt_right" headers="full_time_equivalents">7024</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency">Admin For Children's Svcs</td>
<td class="gt_row gt_right" headers="total_ot">10448050</td>
<td class="gt_row gt_right" headers="full_time_equivalents">5741</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency">Dept Of Environment Protection</td>
<td class="gt_row gt_right" headers="total_ot">8996228</td>
<td class="gt_row gt_right" headers="full_time_equivalents">4943</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency">Dept Of Parks &amp; Recreation</td>
<td class="gt_row gt_right" headers="total_ot">5899887</td>
<td class="gt_row gt_right" headers="full_time_equivalents">3242</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Ranking the potential payroll savings by percentage provides a clear understanding of each agency’s contribution and helps optimize hiring decisions. The Police Department could have saved a total of $3,173,931,601, contributing 38%, followed by the Fire Department at 19% and the Department of Correction at 11%.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>overtime_replacement <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(agency) <span class="sc">|&gt;</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">est_total_savings =</span> <span class="fu">round</span>(<span class="fu">sum</span>(ot_reduction_savings), <span class="dv">0</span>),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">total_savings_pct =</span> <span class="fu">round</span>(<span class="fu">sum</span>(savings_pct_of_total), <span class="dv">6</span>)) <span class="sc">|&gt;</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency_name =</span> <span class="fu">case_when</span>(</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>      total_savings_pct <span class="sc">&gt;=</span> <span class="fl">0.01</span> <span class="sc">~</span> agency,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Others"</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(agency_name) <span class="sc">|&gt;</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_savings =</span> <span class="fu">sum</span>(est_total_savings),</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">savings_contribution =</span> <span class="fu">round</span>(<span class="fu">sum</span>(total_savings_pct), <span class="dv">2</span>)</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(savings_contribution)) <span class="sc">|&gt;</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"Table 5. Financial Impact of Overtime Reduction and Full-Time Replacements"</span>)</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_currency</span>(</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> total_savings,</span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">currency =</span> <span class="st">"USD"</span></span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(</span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> savings_contribution,</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">scale_values =</span> <span class="cn">TRUE</span>,</span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span></span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">agency_name =</span> <span class="st">"Agency Name"</span>,</span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_savings =</span> <span class="st">"Total Estimated Savings"</span>,</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">savings_contribution =</span> <span class="st">"Savings Contribution"</span></span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="rcdbpuoyzp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rcdbpuoyzp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rcdbpuoyzp thead, #rcdbpuoyzp tbody, #rcdbpuoyzp tfoot, #rcdbpuoyzp tr, #rcdbpuoyzp td, #rcdbpuoyzp th {
  border-style: none;
}

#rcdbpuoyzp p {
  margin: 0;
  padding: 0;
}

#rcdbpuoyzp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rcdbpuoyzp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rcdbpuoyzp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rcdbpuoyzp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rcdbpuoyzp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rcdbpuoyzp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rcdbpuoyzp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rcdbpuoyzp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rcdbpuoyzp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rcdbpuoyzp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rcdbpuoyzp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rcdbpuoyzp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rcdbpuoyzp .gt_spanner_row {
  border-bottom-style: hidden;
}

#rcdbpuoyzp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rcdbpuoyzp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rcdbpuoyzp .gt_from_md > :first-child {
  margin-top: 0;
}

#rcdbpuoyzp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rcdbpuoyzp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rcdbpuoyzp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rcdbpuoyzp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rcdbpuoyzp .gt_row_group_first td {
  border-top-width: 2px;
}

#rcdbpuoyzp .gt_row_group_first th {
  border-top-width: 2px;
}

#rcdbpuoyzp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rcdbpuoyzp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rcdbpuoyzp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rcdbpuoyzp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rcdbpuoyzp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rcdbpuoyzp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rcdbpuoyzp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rcdbpuoyzp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rcdbpuoyzp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rcdbpuoyzp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rcdbpuoyzp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rcdbpuoyzp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rcdbpuoyzp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rcdbpuoyzp .gt_left {
  text-align: left;
}

#rcdbpuoyzp .gt_center {
  text-align: center;
}

#rcdbpuoyzp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rcdbpuoyzp .gt_font_normal {
  font-weight: normal;
}

#rcdbpuoyzp .gt_font_bold {
  font-weight: bold;
}

#rcdbpuoyzp .gt_font_italic {
  font-style: italic;
}

#rcdbpuoyzp .gt_super {
  font-size: 65%;
}

#rcdbpuoyzp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rcdbpuoyzp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rcdbpuoyzp .gt_indent_1 {
  text-indent: 5px;
}

#rcdbpuoyzp .gt_indent_2 {
  text-indent: 10px;
}

#rcdbpuoyzp .gt_indent_3 {
  text-indent: 15px;
}

#rcdbpuoyzp .gt_indent_4 {
  text-indent: 20px;
}

#rcdbpuoyzp .gt_indent_5 {
  text-indent: 25px;
}

#rcdbpuoyzp .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#rcdbpuoyzp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border">Table 5. Financial Impact of Overtime Reduction and Full-Time Replacements</th>
</tr>
<tr class="odd gt_col_headings">
<th id="agency_name" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Agency Name</th>
<th id="total_savings" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Estimated Savings</th>
<th id="savings_contribution" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Savings Contribution</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="agency_name">Police Department</td>
<td class="gt_row gt_right" headers="total_savings">$3,173,931,601.00</td>
<td class="gt_row gt_right" headers="savings_contribution">38%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency_name">Fire Department</td>
<td class="gt_row gt_right" headers="total_savings">$1,572,009,614.00</td>
<td class="gt_row gt_right" headers="savings_contribution">19%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency_name">Department Of Correction</td>
<td class="gt_row gt_right" headers="total_savings">$924,997,078.00</td>
<td class="gt_row gt_right" headers="savings_contribution">11%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency_name">Department Of Sanitation</td>
<td class="gt_row gt_right" headers="total_savings">$662,883,941.00</td>
<td class="gt_row gt_right" headers="savings_contribution">8%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency_name">Nyc Housing Authority</td>
<td class="gt_row gt_right" headers="total_savings">$469,262,189.00</td>
<td class="gt_row gt_right" headers="savings_contribution">6%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency_name">Others</td>
<td class="gt_row gt_right" headers="total_savings">$451,159,542.00</td>
<td class="gt_row gt_right" headers="savings_contribution">5%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency_name">Department Of Transportation</td>
<td class="gt_row gt_right" headers="total_savings">$265,890,485.00</td>
<td class="gt_row gt_right" headers="savings_contribution">3%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency_name">Admin For Children's Svcs</td>
<td class="gt_row gt_right" headers="total_savings">$172,298,709.00</td>
<td class="gt_row gt_right" headers="savings_contribution">2%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency_name">Dept Of Environment Protection</td>
<td class="gt_row gt_right" headers="total_savings">$206,802,044.00</td>
<td class="gt_row gt_right" headers="savings_contribution">2%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency_name">Hra/Dept Of Social Services</td>
<td class="gt_row gt_right" headers="total_savings">$204,176,230.00</td>
<td class="gt_row gt_right" headers="savings_contribution">2%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="agency_name">Dept Of Citywide Admin Svcs</td>
<td class="gt_row gt_right" headers="total_savings">$99,898,439.00</td>
<td class="gt_row gt_right" headers="savings_contribution">1%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="agency_name">Dept Of Parks &amp; Recreation</td>
<td class="gt_row gt_right" headers="total_savings">$90,039,571.00</td>
<td class="gt_row gt_right" headers="savings_contribution">1%</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Based on my findings, I recommend hiring more full-employees to replace overtime hours in the Police Department and the Fire Department. This approach would have saved $4,745,941,215, allowing us to achieve more than half of the potential savings.</p>
</section>
<section id="my-own-policy-proposal" class="level3">
<h3 class="anchored" data-anchor-id="my-own-policy-proposal">My Own Policy Proposal</h3>
<p>One of the challenges of replacing overtime hours with full-time employees is that some positions require highly specialized skills. In such cases, implementing a salary cap could risk lowering the quality of services provided to the public.</p>
<p>My proposal is to ensure employees are compensated fairly while also equipping them with the necessary resources and training to enhance efficiency. Rather than focusing solely on salary caps, we can establish an upper limit on overtime hours. By capping overtime, we can not only improve productivity but also reduce overall payroll expenses.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/hongzhuang1\.github\.io\/STA9750-2025-SPRING\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>